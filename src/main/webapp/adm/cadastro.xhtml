<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui">

<h:head>
	<link rel="stylesheet" type="text/css" href="/livros/css/style.css"></link>
	<style>
.ui-panelgrid td, .ui-panelgrid tr {
	background: transparent !important;
}
</style>
</h:head>

<body>
	<p:panel header="Cadastro de livros" class="panelCadastro">
		<h:form id="form1" enctype="multipart/form-data">
			<table cellspacing="20" width="100%">
				<tr>
					<td style="width: 150px"><h:outputLabel for="nomeLivro"
							value="Nome do livro"></h:outputLabel></td>
					<td><p:inputText id="nomeLivro" value="#{mbc.livro.nome}"
							required="true"></p:inputText></td>
				</tr>
				<tr>
					<td style="width: 150px"><h:outputLabel for="desc"
							value="Descrição do livro"></h:outputLabel></td>
					<td><p:inputTextarea id="desc" counter="display"
							maxlength="1500" counterTemplate="Restam {0} caracteres."
							autoResize="true" style="width:100%; max-width:500px"
							value="#{mbc.livro.descricao}" required="true" /> <br /> <h:outputText
							id="display" /></td>
				</tr>
				<tr>
					<td style="width: 150px"><h:outputLabel for="uploadCapa"
							value="Capa do livro"></h:outputLabel></td>
					<td><p:fileUpload id="uploadCapa" mode="simple"
							skinSimple="true" label="Escolher" allowTypes="/(\.|\/)(jpg)$/"
							value="#{mbc.capaLivro}" required="true" /></td>
				</tr>
				<tr>
					<td style="width: 150px"><h:outputLabel for="isbn"
							value="ISBN"></h:outputLabel></td>
					<td><p:inputMask id="isbn" value="#{mbc.livro.isbn}"
							required="true" mask="999-9-99-999999-9" size="17"></p:inputMask></td>
				</tr>
				<tr>
					<td style="width: 150px"><h:outputLabel for="editora"
							value="Editora"></h:outputLabel></td>
					<td><p:inputText id="Editora" value="#{mbc.livro.editora}"
							required="true"></p:inputText></td>
				</tr>
				<tr>
					<td style="width: 150px"><h:outputLabel for="selectAutor"
							value="Nome do Autor"></h:outputLabel></td>
					<td><p:selectOneMenu id="selectAutor" value="#{mbc.autor.id}"
							filter="true" required="true">
							<f:selectItems value="#{mb.autores}" var="autor"
								itemLabel="#{autor.nome}" itemValue="#{autor.id}" filter="true">
							</f:selectItems>
						</p:selectOneMenu></td>
				</tr>
			</table>
			<p:commandButton value="Cadastrar" action="#{mbc.cadastrarLivro}"
				ajax="false"></p:commandButton>
			<p:growl></p:growl>
		</h:form>
	</p:panel>
	<p:panel header="Cadastro de Autores" class="panelCadastro">
		<h:form id="form2" enctype="multipart/form-data">
			<table cellspacing="20" width="100%">
				<tr>
					<td><h:outputLabel for="nomeAutor" value="Nome do Autor" /></td>
					<td><p:inputText id="nomeAutor" value="#{mbc.autor.nome}"
							required="true" /></td>
				</tr>
				<tr>
					<td><h:outputLabel for="uploadFoto" value="Foto do Autor" /></td>
					<td><p:fileUpload id="uploadFoto" mode="simple"
							skinSimple="true" label="Escolher" allowTypes="/(\.|\/)(jpg)$/"
							value="#{mbc.fotoAutor}" required="true" /></td>
				</tr>
				<tr>
					<td style="width: 150px"><h:outputLabel for="descAutor"
							value="Descrição do Autor" /></td>
					<td><p:inputTextarea id="descAutor" counter="display"
							maxlength="1500" counterTemplate="Restam {0} caracteres."
							autoResize="true" style="width:100%; max-width:500px"
							value="#{mbc.autor.descricao}" required="true" /> <br /> <h:outputText
							id="display" /></td>
				</tr>
			</table>
			<p:commandButton value="Cadastrar" action="#{mbc.cadastrarAutor}"
				ajax="false" update=":form1, :form2"></p:commandButton>
			<p:growl></p:growl>
		</h:form>
	</p:panel>
	<br />

	<p:button href="index.jsf" value="Voltar" style="margin-left:15px;"></p:button>
</body>
</html>
